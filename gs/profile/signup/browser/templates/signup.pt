<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  metal:use-macro="context/@@groupserver_layout/page">
  <head>
    <title metal:fill-slot="title">
      <span tal:replace="view/label">Register</span>:
      <span tal:replace="view/siteInfo/get_name">this site</span>
    </title>
  </head>
  <body>
    <div id="contextnav" metal:fill-slot="contextnavigation">
      <p class="label">Sign Up</p>
      <ul id="signup-progress">
        <li class="current">Choose method</li>
        <li>Set password</li>
        <li>Change profile</li>
        <li>Verify email or Finish</li>
      </ul>
    </div><!--contextnav-->
    <tal:block content="structure provider:groupserver.FormStatusMessage"
      define="errors view/errors; status view/status; widgets view/widgets"
      metal:fill-slot="messages">&#160;</tal:block>
    <tal:block metal:fill-slot="body">
      <h1 tal:content="view/label">Sign up</h1>
      <p id="intro"><strong>Sign up with
          <span class="site" tal:content="siteName">this site</span></strong>
        so you can join groups, post messages, and receive email from
        your groups.
      
      <div id="tc" class="disclosureWidget">
        <p>
          <a class="disclosureButton" id="tc-button"
            href="javascript:showHideDisclosure('tc')">By signing up
            with
            <span class="site" tal:content="siteName">this site</span>,
            you agree to the acceptable use policy.</a>
        </p>
        <div class="disclosureShowHide" style="display: none;">
          <div id="tc-content">Loading&#8230;</div>
        </div>
      </div>
      
      <div id="privacy" class="disclosureWidget">
        <p>
          <a class="disclosureButton" id="privacy-button"
            href="javascript:showHideDisclosure('privacy')">Your privacy is
            important, and will be maintained  according to the privacy
            policy of 
            <span class="site" tal:content="siteName">this site</span>.</a>
        </p>
        <div class="disclosureShowHide" style="display: none;">
          <div id="privacy-content">Loading&#8230;</div>
        </div>
      </div>
      
    <span tal:replace="structure provider:groupserver.SignupMethods" />
       
    </tal:block>
    <tal:block metal:fill-slot="javascript">
      
      <script type="text/javascript"
        src="++resource++check_email-20110222.js">&#160;</script>
      <script type="text/javascript"
        src="/++resource++check_required-20071214.js">&#160;</script>
      <script type="text/javascript">
        jQuery.noConflict()
        jQuery(document).ready( function () {
            var webmail = new Array('gmail', 'hotmail', 'yahoo');
            GSCheckEmailAddress.init(
                '#form\\.email',
                '#form\\.actions\\.register',
                '#addressBookHelp',
                webmail,
                '#emailHelp');
        
            jQuery("#privacy-button").click( function () {
                var uri = "/policies/privacy/ #privacy";
                jQuery("#privacy-content").load(uri);
            });

            jQuery("#tc-button").click( function () {
                var uri = "/policies/aup/ #aup";
                jQuery("#tc-content").load(uri);
            });
            jQuery('#form\\.email').focus();
        });
      </script>
      <script type="text/javascript"
        tal:define="widgets view/widgets; 
          button string:#form\\.actions\\.5369676e207570"
        tal:content="provider:groupserver.RequiredWidgetsJavaScript">
        alert("I have not been replaced.");
      </script>
    </tal:block>
  </body>
</html>
  
